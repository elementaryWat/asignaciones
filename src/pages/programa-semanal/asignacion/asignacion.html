<!--
  Generated template for the AsignacionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title *ngIf="!obtenido">Asignacion</ion-title>
    <ion-title *ngIf="obtenido">{{tema.nombre}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="formAsignacion" *ngIf="obtenido">
    <ion-item>
      <ion-label>Asignado</ion-label>
      <ion-select formControlName="asignado"
                   okText="Ok" cancelText="Cancelar">
        <ion-option *ngFor="let hermano of matriculados"
         [value]="hermano.hid">{{hermano.nombre}} {{familias[hermano.familia]}}</ion-option>
        <ion-option *ngFor="let hermano of publicadores"
          [value]="hermano.hid">{{hermano.nombre}} {{familias[hermano.familia]}}</ion-option>
        <ion-option *ngFor="let hermano of precursores"
           [value]="hermano.hid">{{hermano.nombre}} {{familias[hermano.familia]}}</ion-option>
        <ion-option *ngFor="let hermano of siervosM"
            [value]="hermano.hid">{{hermano.nombre}} {{familias[hermano.familia]}}</ion-option>
        <ion-option *ngFor="let hermano of ancianos"
             [value]="hermano.hid">{{hermano.nombre}} {{familias[hermano.familia]}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="tema.tituloSecundario">
      <ion-label floating>Titulo</ion-label>
      <ion-input formControlName="titulo"
       type="text"></ion-input>
    </ion-item>
    <ion-item *ngIf="tema.ayudante">
      <ion-label>Ayudante</ion-label>
      <ion-select formControlName="ayudante"
                   okText="Ok" cancelText="Cancelar">
                   <ion-option *ngFor="let hermano of matriculados"
                    [value]="hermano.hid">{{hermano.nombre}}</ion-option>
                   <ion-option *ngFor="let hermano of publicadores"
                     [value]="hermano.hid">{{hermano.nombre}}</ion-option>
                   <ion-option *ngFor="let hermano of precursores"
                      [value]="hermano.hid">{{hermano.nombre}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="tema.tieneDuracion">
      <ion-label floating>Duracion</ion-label>
      <ion-input formControlName="duracion" [disabled]="tema.duracionFija"
       type="number"></ion-input>
    </ion-item>
    <ion-item *ngIf="tema.tipo=='estudiantil'">
      <ion-label>Aspecto de la oratoria</ion-label>
      <ion-select formControlName="leccion"
                   okText="Ok" cancelText="Cancelar">
        <ion-option *ngFor="let leccion of lecciones"
         [value]="leccion.numero">{{leccion.nombre}}</ion-option>
      </ion-select>
  </ion-item>
  <ion-item *ngIf="(tema.tipo=='estudiantil' || tema.reunion=='maestros') && congOb">
    <ion-label>Sala</ion-label>
    <ion-select formControlName="sala"
                 okText="Ok" cancelText="Cancelar">
      <ion-option *ngFor="let sala of salascong"
       [value]="sala.numero">{{sala.nombre}}</ion-option>
    </ion-select>
</ion-item>
    <br>
    <button (click)=actualizarAsignacion() *ngIf="operacion=='update'" [disabled]="!formAsignacion.valid"
     ion-button outline round block type="submit">Guardar</button>
  </form>
</ion-content>
